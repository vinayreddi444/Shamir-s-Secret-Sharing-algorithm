CREATE TABLE polynomial_points (
    x INT PRIMARY KEY,
    base INT,
    encoded_y VARCHAR(100)
);
INSERT INTO polynomial_points (x, base, encoded_y)
VALUES 
(1, 10, '4'),
(2, 2, '111'),
(3, 10, '12'),
(6, 4, '213');
DELIMITER $$

CREATE FUNCTION base_to_decimal(base INT, encoded_y VARCHAR(100))
RETURNS INT
DETERMINISTIC
BEGIN
    DECLARE i INT DEFAULT 1;
    DECLARE len INT DEFAULT CHAR_LENGTH(encoded_y);
    DECLARE result INT DEFAULT 0;
    DECLARE current_char CHAR(1);
    DECLARE current_value INT;
    
    WHILE i <= len DO
        SET current_char = SUBSTRING(encoded_y, i, 1);
        SET current_value = CAST(current_char AS UNSIGNED);  -- Convert the char to a number
        SET result = result * base + current_value;
        SET i = i + 1;
    END WHILE;
    
    RETURN result;
